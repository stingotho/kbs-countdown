{"ast":null,"code":"import React,{useState,useEffect}from'react';import Snowflake from'./Snowflake';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const CountdownTimer=()=>{// Function to calculate time left until the event\nconst calculateTimeLeft=()=>{const targetDate=new Date('December 14, 2023 00:00:00').getTime();const now=new Date().getTime();const distance=targetDate-now;if(distance>0){return{days:Math.floor(distance/(1000*60*60*24)),hours:Math.floor(distance%(1000*60*60*24)/(1000*60*60)),minutes:Math.floor(distance%(1000*60*60)/(1000*60)),seconds:Math.floor(distance%(1000*60)/1000)};}return{};};// Initialize the state\nconst[timeLeft,setTimeLeft]=useState(calculateTimeLeft());const[score,setScore]=useState(0);const[snowflakes,setSnowflakes]=useState([]);useEffect(()=>{// Snowflakes initialization\nconst initialSnowflakes=Array.from({length:50},(_,id)=>{return{id,left:Math.random()*100,duration:5+Math.random()*10,delay:-Math.random()*5,// Negative delay for an immediate but staggered start\nisVisible:true};});setSnowflakes(initialSnowflakes);// Countdown timer update\nconst interval=setInterval(()=>{setTimeLeft(calculateTimeLeft());},1000);// Clean up interval\nreturn()=>clearInterval(interval);},[]);// Handle snowflake click\nconst handleSnowflakeClick=id=>{setScore(prevScore=>prevScore+1);setSnowflakes(prevSnowflakes=>prevSnowflakes.map(snowflake=>snowflake.id===id?{...snowflake,isVisible:false}:snowflake));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u2744\\uFE0FKBS Winter Break!\\u2744\\uFE0F\"}),/*#__PURE__*/_jsx(\"div\",{children:Object.keys(timeLeft).length>0?Object.entries(timeLeft).map(_ref=>{let[unit,value]=_ref;return/*#__PURE__*/_jsxs(\"span\",{children:[value,\" \",unit,' ']},unit);}):/*#__PURE__*/_jsx(\"span\",{children:\"Event has started!\"})}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'10px'},children:\"Click on the snowflakes to increase your score!\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px'},children:[\"Score: \",score]}),snowflakes.map(snowflake=>snowflake.isVisible&&/*#__PURE__*/_jsx(Snowflake,{...snowflake,onClick:()=>handleSnowflakeClick(snowflake.id)},snowflake.id))]});};export default CountdownTimer;","map":{"version":3,"names":["React","useState","useEffect","Snowflake","jsx","_jsx","jsxs","_jsxs","CountdownTimer","calculateTimeLeft","targetDate","Date","getTime","now","distance","days","Math","floor","hours","minutes","seconds","timeLeft","setTimeLeft","score","setScore","snowflakes","setSnowflakes","initialSnowflakes","Array","from","length","_","id","left","random","duration","delay","isVisible","interval","setInterval","clearInterval","handleSnowflakeClick","prevScore","prevSnowflakes","map","snowflake","children","Object","keys","entries","_ref","unit","value","style","fontSize","onClick"],"sources":["/home/othman/projects/kbs-countdown/kbs-countdown/src/components/CountdownTimer.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Snowflake from './Snowflake';\n\nconst CountdownTimer = () => {\n    // Function to calculate time left until the event\n    const calculateTimeLeft = () => {\n        const targetDate = new Date('December 14, 2023 00:00:00').getTime();\n        const now = new Date().getTime();\n        const distance = targetDate - now;\n\n        if (distance > 0) {\n            return {\n                days: Math.floor(distance / (1000 * 60 * 60 * 24)),\n                hours: Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)),\n                minutes: Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60)),\n                seconds: Math.floor((distance % (1000 * 60)) / 1000),\n            };\n        }\n        return {};\n    };\n\n    // Initialize the state\n    const [timeLeft, setTimeLeft] = useState(calculateTimeLeft());\n    const [score, setScore] = useState(0);\n    const [snowflakes, setSnowflakes] = useState([]);\n\n    useEffect(() => {\n        // Snowflakes initialization\n        const initialSnowflakes = Array.from({ length: 50 }, (_, id) => {\n            return {\n                id,\n                left: Math.random() * 100,\n                duration: 5 + Math.random() * 10,\n                delay: -Math.random() * 5, // Negative delay for an immediate but staggered start\n                isVisible: true\n            };\n        });\n        setSnowflakes(initialSnowflakes);\n\n        // Countdown timer update\n        const interval = setInterval(() => {\n            setTimeLeft(calculateTimeLeft());\n        }, 1000);\n\n        // Clean up interval\n        return () => clearInterval(interval);\n    }, []);\n\n    // Handle snowflake click\n    const handleSnowflakeClick = (id) => {\n        setScore(prevScore => prevScore + 1);\n        setSnowflakes(prevSnowflakes => prevSnowflakes.map(snowflake => \n            snowflake.id === id ? { ...snowflake, isVisible: false } : snowflake\n        ));\n    };\n\n    return (\n        <div>\n            <h1>❄️KBS Winter Break!❄️</h1>\n            <div>\n                {Object.keys(timeLeft).length > 0 ? (\n                    Object.entries(timeLeft).map(([unit, value]) => (\n                        <span key={unit}>\n                            {value} {unit}{' '}\n                        </span>\n                    ))\n                ) : (\n                    <span>Event has started!</span>\n                )}\n            </div>\n            <p style={{ fontSize: '10px' }}>Click on the snowflakes to increase your score!</p>\n            <div style={{ fontSize: '12px' }}>Score: {score}</div>\n            {snowflakes.map(snowflake => \n                snowflake.isVisible && (\n                    <Snowflake\n                        key={snowflake.id}\n                        {...snowflake}\n                        onClick={() => handleSnowflakeClick(snowflake.id)}\n                    />\n                )\n            )}\n            \n        </div>\n    );\n};\n\nexport default CountdownTimer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}